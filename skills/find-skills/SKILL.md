---
name: find-skills
description: 主动技能检索。让智能体学会遇到问题时，主动去寻找应该使用什么技能来解决问题，而不是每次都等你下指令。触发条件：智能体遇到无法解决的复杂问题、需要新功能、优化现有工作流。适用场景：任务卡壳、需要新工具、效率提升。
metadata:
  author: NetNinja
  version: 1.0.0
  type: skill-management
---

# Find Skills 主动技能检索

## 核心价值

> "这是赋予智能体'主观能动性'的神技"

**解决的问题：**
- ❌ 智能体只会等你下指令（被动）
- ❌ 遇到问题时不知道用什么技能
- ❌ 无法主动发现更高效的工作方式
- ❌ 每次都需要你手动干预

**实现的能力：**
- ✅ 智能体可以**主动搜索技能**
- ✅ 智能体可以**发现新功能**
- ✅ 智能体可以**优化工作流**
- ✅ 智能体可以**自主学习**

---

## 触发条件

当智能体遇到以下情况时，触发 find-skills：

### **1. 任务卡壳（无法继续）**
```
用户指令："完成这个复杂任务"
智能体状态：尝试多种方法失败
→ 触发 find-skills 搜索"任务自动化技能"
```

### **2. 需要新功能**
```
用户指令："我需要一个可以处理 X 的工具"
当前工具：无法处理 X
→ 触发 find-skills 搜索"X 处理技能"
```

### **3. 效率优化**
```
用户指令："这个任务太慢了，有没有更快的方法？"
当前方法：手动操作
→ 触发 find-skills 搜索"自动化技能"
```

### **4. 未知问题**
```
智能体状态：遇到从未见过的问题
→ 触发 find-skills 搜索相关技能
```

---

## 使用流程

### **步骤 1：技能搜索**
```
智能体需要解决某个问题
→ 决定搜索关键词
→ 调用 find-skills 搜索相关技能
→ find-skills 返回技能列表和描述
```

### **步骤 2：技能评估**
```
智能体获取到技能列表
→ 评估每个技能的适用性
→ 选择最合适的技能
→ 调用选中的技能
```

### **步骤 3：技能学习**
```
智能体成功解决问题
→ 记录问题的类型和使用的技能
→ find-skills 学习这个关联（问题类型 → 最佳技能）
→ 下次遇到类似问题时，自动推荐最佳技能
```

---

## 技能索引

### **技能分类**
- **数据处理**：数据转换、格式化、清洗
- **自动化**：任务自动化、工作流优化
- **分析**：数据分析、报告生成、洞察提取
- **开发**：代码生成、调试、重构
- **网络**：网络搜索、API 调用、数据抓取
- **效率**：快速操作、批量处理、性能优化
- **管理**：文件管理、项目管理、版本控制

### **技能匹配算法**
```
问题类型 → 搜索关键词 → 相关技能列表 → 按相关性排序 → 返回 Top-5
```

---

## 示例场景

### **示例 1：自动化场景**
```
用户："每天都要手动整理这些文件，很烦"
智能体状态：重复性任务，需要自动化
→ 触发 find-skills 搜索"文件管理自动化技能"
→ find-skills 返回："file-manager", "batch-processor"
→ 智能体选择并调用技能
→ 问题解决，用户满意
```

### **示例 2：开发场景**
```
用户："我想快速创建一个网站，但不会前端"
智能体状态：需要 Web 开发工具
→ 触发 find-skills 搜索"Web 开发工具"
→ find-skills 返回："web-generator", "frontend-builder"
→ 智能体选择并调用技能
→ 网站快速创建，用户满意
```

### **示例 3：效率优化**
```
用户："处理这个大文件太慢了"
智能体状态：需要更快的处理方法
→ 触发 find-skills 搜索"高性能文件处理"
→ find-skills 返回："fast-file-processor", "memory-optimizer"
→ 智能体选择并调用技能
→ 文件快速处理，用户满意
```

### **示例 4：学习机制**
```
第 1 次：智能体遇到"大文件处理"问题
→ 搜索技能，找到 "fast-file-processor"
→ 使用成功，用户满意
→ find-skills 记录：大文件处理 → fast-file-processor

第 2 次：用户再次问"处理这个大文件"
→ find-skills 自动检测到"大文件处理"问题
→ 直接推荐 "fast-file-processor"
→ 用户满意，无需多次指令
```

---

## 与其他技能的协同

### **tavily-search 技能**
- tavily-search 为 find-skills 提供实时搜索能力
- find-skills 使用 tavily-search 搜索技能市场信息

**协作流程：**
```
用户："我需要一个新的自动化工具"
→ find-skills 搜索"自动化工具"
→ find-skills 使用 tavily-search 搜索技能市场
→ 智能体发现并安装新工具
```

### **memory 系统技能**
- memory 技能为 find-skills 提供历史数据
- find-skills 可以学习用户的偏好，推荐更合适的技能

**协作流程：**
```
用户："我之前用了一个技能，叫什么名字来着？"
→ find-skills 搜索 memory 系统的历史使用记录
→ find-skills 找到用户之前使用的技能
→ 智能体推荐该技能
```

### **stock-analysis 技能**
- stock-analysis 为 find-skills 提供投资决策数据
- find-skills 可以推荐相关的分析技能

**协作流程：**
```
用户："我想优化我的投资组合"
→ find-skills 搜索 stock-analysis 的数据
→ find-skills 推荐相关的优化技能
→ 智能体使用推荐技能优化投资
```

---

## 限制与边界

### **搜索限制**
- 搜索词匹配（精确匹配 > 模糊匹配）
- 技能描述匹配（关键词搜索）
- 技能分类过滤

### **推荐限制**
- 最多返回 Top-5 技能
- 推荐技能必须在用户已安装的技能列表中
- 不会推荐用户明确不喜欢的技能类型

### **学习边界**
- 只学习成功的解决方案
- 不会学习失败的尝试
- 用户反馈很重要（如果用户对推荐技能不满意，find-skills 会调整推荐算法）

---

## 配置

### **环境要求**
- ✅ 技能市场访问（tavily-search 配置）
- ✅ Memory 系统访问（记录技能使用历史）
- ✅ 已安装技能列表（从 memory/MEMORY.md 读取）

### **配置项**
```yaml
settings:
  search:
    max_results: 5
    search_type: fuzzy
    include_description: true
  
  learning:
    learning_rate: 0.1
    min_success_count: 3
    feedback_weight: 0.5
```

---

## 评估指标

### **推荐准确性**
- 用户接受推荐技能的比率
- 用户对推荐技能的满意度评分
- 推荐技能实际解决问题的成功率

### **学习效率**
- 智能体解决问题的速度提升（与手动选择技能对比）
- 用户需要手动干预的频率降低
- 问题解决时间缩短的百分比

### **搜索性能**
- 搜索响应时间
- 技能相关性评分准确度
- 搜索结果覆盖率

---

## 最佳实践

### **对于智能体**
- ✅ 信任 find-skills 的推荐（但可以提出质疑）
- ✅ 如果推荐技能无法解决问题，可以再次搜索
- ✅ 提供详细的反馈（什么有效，什么无效）
- ✅ 不要重复搜索相同问题

### **对于技能开发者**
- ✅ 技能描述要清晰、准确
- ✅ 技能分类要合理（便于 find-skills 搜索）
- ✅ 技能名称要独特、易于搜索
- ✅ 提供使用示例和边界条件

### **对于用户**
- ✅ 如果 find-skills 推荐的技能不合适，可以手动搜索
- ✅ 可以告诉 find-skills 用户的偏好（如不喜欢某类技能）
- ✅ 可以提供反馈，帮助 find-skills 学习更好的推荐

---

## 调试模式

### **启用调试模式**
```bash
export FIND_SKILLS_DEBUG=true
```

### **调试输出**
- 搜索查询和关键词
- 找到的技能列表（包含相关性评分）
- 推荐算法的决策过程
- 学习算法的参数更新

### **调试信息**
```
用户问题："我需要一个新的自动化工具"
搜索查询："automation tools"
找到技能：
  1. "batch-processor" (相关性: 0.95)
  2. "fast-file-processor" (相关性: 0.92)
  3. "task-optimizer" (相关性: 0.88)
推荐技能："batch-processor"
学习更新：automation tools → batch-processor (成功率: 100%)
```

---

## 错误处理

### **常见错误**
1. **技能搜索失败**
   - 原因：tavily-search 不可用
   - 解决：检查 tavily-search 技能状态

2. **推荐算法失效**
   - 原因：Memory 系统数据损坏
   - 解决：重新构建学习模型

3. **技能描述不匹配**
   - 原因：技能开发者更新了描述但 find-skills 未同步
   - 解决：刷新技能市场索引

### **错误恢复**
```
智能体检测到错误
→ 记录错误日志
→ 尝试恢复（重新搜索、使用备用方法）
→ 如果无法恢复，向用户报告错误详情
```

---

## 未来规划

### **V1.0 功能**（当前版本）
- ✅ 基础技能搜索（关键词匹配）
- ✅ 基于技能描述的推荐
- ✅ 简单的学习机制（问题类型 → 技能）

### **V1.1 功能**（规划中）
- ⏳ 技能使用历史记录（记录哪些技能被使用过）
- ⏳ 技能推荐解释（为什么推荐这个技能）
- ⏳ 用户反馈收集（推荐技能后询问满意度）

### **V2.0 功能**（未来）
- ⏳ 智能技能匹配（基于问题复杂度推荐技能）
- ⏳ 跨技能协作（多个技能组合使用）
- ⏳ 自动化工作流发现（智能体发现重复性任务并推荐自动化技能）

---

## 与其他技能的区别

### **vs tavily-search（联网技能）**
- tavily-search：提供实时网络搜索能力
- find-skills：提供技能检索和推荐能力
- 关系：find-skills 可以使用 tavily-search 搜索技能市场

### **vs memory 系统技能**
- memory：存储智能体的使用历史和偏好
- find-skills：基于使用历史推荐技能
- 关系：find-skills 可以访问 memory 的历史数据

### **vs stock-analysis 技能**
- stock-analysis：提供投资决策和分析
- find-skills：推荐相关的投资技能
- 关系：find-skills 可以推荐 stock-analysis 的辅助技能

---

## 总结

### **核心价值**
- ✅ **主观能动性**：智能体可以主动寻找解决方案
- ✅ **学习能力**：每次都变得更聪明
- ✅ **效率提升**：减少用户手动干预的频率
- ✅ **问题解决**：智能体可以解决更复杂的问题

### **关键差异**
- ❌ 不再需要你每次都手动指定用什么技能
- ❌ 不再需要你手动搜索技能
- ✅ 智能体会主动推荐最合适的技能
- ✅ 智能体会学习什么技能在什么情况下最有效

---

_最后更新：2026-02-17 08:15 (Asia/Shanghai)_
