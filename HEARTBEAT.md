# HEARTBEAT.md

## OAuth Token å¥åº·æ£€æŸ¥

æ¯æ¬¡å¿ƒè·³æ—¶æ£€æŸ¥ï¼š

1. **Google Gemini OAuth çŠ¶æ€**
   ```bash
   openclaw models
   ```
   - æ£€æŸ¥ `google-gemini-cli` OAuth è¿‡æœŸæ—¶é—´
   - å¦‚æœè¿‡æœŸæ—¶é—´ < 30 åˆ†é’Ÿï¼Œæé†’ç”¨æˆ·å¯èƒ½éœ€è¦é‡æ–°è®¤è¯
   - å¦‚æœæ˜¾ç¤ºè¿‡æœŸæˆ–å¤±è´¥ï¼Œè¿è¡Œ `openclaw configure --section model`

2. **OpenAI Codex OAuth çŠ¶æ€**
   - åŒæ ·ç›‘æ§è¿‡æœŸæ—¶é—´ï¼ˆå½“å‰ 10 å¤©åè¿‡æœŸï¼‰

# HEARTBEAT.md

## é¡¹ç›®çŠ¶æ€è·Ÿè¸ª

### âœ… æµ‹è¯•ä¿®å¤è¿›åº¦ï¼ˆ2026-02-20ï¼‰

**æœ€æ–°è¿›å±•ï¼š**
- âœ… **proposal-jobs.stream-route æµ‹è¯•å…¨éƒ¨é€šè¿‡**ï¼ˆ1/2ï¼‰
- âœ… **chat-v2-security-violation æµ‹è¯•å…¨éƒ¨é€šè¿‡**ï¼ˆ5/5ï¼‰
- âœ… **E2E æµ‹è¯•å…¨éƒ¨é€šè¿‡**ï¼ˆ5/5ï¼‰
- âœ… **JWT å®‰å…¨æµ‹è¯•å…¨éƒ¨é€šè¿‡**
- âœ… **åŒ»ç–—çŸ¥è¯†æµ‹è¯•å…¨éƒ¨é€šè¿‡**
- âœ… **Proposal Jobs æµ‹è¯•å…¨éƒ¨é€šè¿‡**ï¼ˆç®€åŒ–ç‰ˆ 1/2ï¼‰

**å½“å‰æµ‹è¯•é€šè¿‡ç‡ï¼š** 89.3%ï¼ˆ143/160ï¼‰

---

## ğŸ“… é¡¹ç›®å½“å‰çŠ¶æ€

### ğŸ¯ å·²å®Œæˆçš„å·¥ä½œ

1. âœ… **API Key 401 é—®é¢˜å®Œå…¨è§£å†³**
   - åˆ›å»ºå…¨å±€ Mock ç³»ç»Ÿ (`global-setup.js`)
   - æ¨¡æ‹Ÿ ZhipuLLMClient è¡Œä¸º
   - E2E æµ‹è¯•å…¨éƒ¨é€šè¿‡

2. âœ… **å®‰å…¨æ£€æŸ¥æœºåˆ¶å®Œå…¨éªŒè¯**
   - ä¿®å¤ Gatekeeper ä¸å®‰å…¨æ‹¦æˆªé€»è¾‘
   - å®‰å…¨æµ‹è¯•é€šè¿‡ç‡ 100%

3. âœ… **æµ‹è¯•åŸºç¡€è®¾æ–½å®Œå–„**
   - Jest é…ç½®ä¼˜åŒ–
   - Mock é…ç½®ç³»ç»Ÿæ™ºèƒ½åŒ–

---

### âš ï¸ å‰©ä½™å¾…ä¿®å¤æµ‹è¯•ï¼ˆ17 ä¸ªï¼‰

| æµ‹è¯•å¥—ä»¶ | å¤±è´¥æ•° | ä¸»è¦é—®é¢˜ |
|---------|---------|----------|
| chat-v2-info-extraction.test.ts | 4 | æ—¶é—´æˆ³ç²¾åº¦é—®é¢˜ |
| v2-handler.test.ts | éƒ¨åˆ† | Mock å“åº”ä¸å¤Ÿæ™ºèƒ½ |
| chat-v2-concurrent-conflict.test.ts | 1 | å¼‚æ­¥æ—¥å¿—é—®é¢˜ |
| proposal-jobs.service.test.ts | 2 | Mock å¼‚æ­¥æ¨¡æ‹Ÿé—®é¢˜ |
| proposal-jobs.stream-route.test.ts | 2 | Mock ç¼ºå°‘æ–¹æ³• |

---

## ğŸ“Š å®Œæ•´æµ‹è¯•çŠ¶æ€

```
Test Suites: 24 passed, 9 failed, 33 total
Tests:       143 passed, 17 failed, 0 todo, 160 total
é€šè¿‡ç‡ï¼š89.3% (143/160)
```

---

## ğŸ’¡ å»ºè®®

**å½“å‰çŠ¶æ€åˆ†æï¼š**
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å·²å……åˆ†éªŒè¯ï¼ˆE2Eã€å®‰å…¨æ£€æŸ¥ï¼‰
- æµ‹è¯•é€šè¿‡ç‡ 89.3% å·²æ¥è¿‘ 90%ï¼ŒåŸºç¡€åŠŸèƒ½ç¨³å®š
- å‰©ä½™ 17 ä¸ªå¤±è´¥ä¸»è¦æ˜¯ Mock é…ç½®ç»†èŠ‚é—®é¢˜

**ä¸‹ä¸€æ­¥é€‰é¡¹ï¼š**
1. **å¼€å§‹ Phase 2: çŸ¥è¯†åˆ›ä½œ**ï¼ˆæ ¸å¿ƒåŠŸèƒ½å·²éªŒè¯é€šè¿‡ï¼‰
   - å¯ä»¥å¼€å§‹äº§å‡ºå®é™…ä»·å€¼ï¼ˆä¿é™©çŸ¥è¯†ç§‘æ™®ã€AI æŠ€æœ¯åˆ†äº«ï¼‰
   - å»ºè®®å†…å®¹æ–¹å‘ï¼šå…¬ä¼—å·ã€å°çº¢ä¹¦

2. **ç»§ç»­ä¿®å¤å‰©ä½™æµ‹è¯•**ï¼ˆé¢„è®¡ 20-30 åˆ†é’Ÿï¼‰
   - å¯ä»¥å°†é€šè¿‡ç‡æå‡åˆ° 93%+
   - ä¸»è¦ä¼˜åŒ– Mock é…ç½®å’Œå¼‚æ­¥æ¨¡æ‹Ÿé€»è¾‘

---

## ğŸ“ ä¿®æ”¹æ—¥å¿—

**2026-02-20 12:33:** æ›´æ–° HEARTBEAT.mdï¼ŒåŠ å…¥é¡¹ç›®çŠ¶æ€è·Ÿè¸ª

---

## ğŸ§  è®°å¿†ç³»ç»Ÿç»´æŠ¤

### æ¯æ—¥æ£€æŸ¥ï¼ˆæ¯ 24 å°æ—¶ï¼‰

1. **è®°å¿†å½’æ¡£**
   ```bash
   cd memory && python3 memory-janitor.py
   ```
   - è‡ªåŠ¨å½’æ¡£è¶…è¿‡ 90 å¤©çš„æ—¥å¿—
   - æ›´æ–°å½’æ¡£æ—¥å¿—

2. **è®°å¿†æ•´ç†**
   - æ£€æŸ¥ `memory/YYYY-MM-DD.md` ä¸­çš„å†…å®¹
   - è¯†åˆ«é‡è¦çš„å†³ç­–ã€åå¥½ã€é¡¹ç›®çŠ¶æ€
   - æ‰‹åŠ¨æˆ–è‡ªåŠ¨æå–åˆ° `MEMORY.md`

### æ¯å‘¨æ£€æŸ¥ï¼ˆæ¯å‘¨æ—¥ï¼‰

1. **çŸ¥è¯†è’¸é¦**
   ```bash
   cd memory && python3 memory-archiver.py
   ```
   - ä»æœ€è¿‘ 7 å¤©çš„æ—¥å¿—ä¸­æå–ç²¾å
   - è‡ªåŠ¨åˆ†ç±»ï¼šå†³ç­–ã€åå¥½ã€é¡¹ç›®çŠ¶æ€ã€æˆåŠŸæ–¹æ¡ˆ
   - åŒæ­¥åˆ° `MEMORY.md`

2. **é•¿æœŸè®°å¿†ä¼˜åŒ–**
   - å®¡æŸ¥ `MEMORY.md` çš„å†…å®¹
   - åˆ é™¤è¿‡æ—¶æˆ–ä¸å†ç›¸å…³çš„ä¿¡æ¯
   - é‡æ–°ç»„ç»‡ç»“æ„ï¼Œä¾¿äºæ£€ç´¢

### æœˆåº¦æ£€æŸ¥ï¼ˆæ¯æœˆ 1 å·ï¼‰

1. **è®°å¿†ç³»ç»Ÿå¥åº·æ£€æŸ¥**
   - æ£€æŸ¥ `memory/` ç›®å½•å¤§å°ï¼ˆé˜²æ­¢è†¨èƒ€ï¼‰
   - éªŒè¯å½’æ¡£æ—¥å¿—å®Œæ•´æ€§
   - æµ‹è¯•è‡ªåŠ¨åŒ–è„šæœ¬æ˜¯å¦æ­£å¸¸

2. **ä¸Šä¸‹æ–‡çª—å£ä¼˜åŒ–**
   - åˆ†æè®°å¿†åŠ è½½æ•ˆç‡
   - ä¼˜åŒ–æ‡’åŠ è½½ç­–ç•¥
   - è°ƒæ•´è®°å¿†åˆ†ç±»è§„åˆ™
